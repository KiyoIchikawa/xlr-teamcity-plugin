<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- including ECharts file -->
    <script src="http://echarts.baidu.com/dist/echarts.min.js"></script>
</head>

<body>
    <!-- prepare a DOM container with width and height -->
    <div id="main" style="width: 600px;height:400px;"></div>
    <script type="text/javascript">
        window.addEventListener("xlrelease.load", function () {
            window.xlrelease.queryTileData(function (response) {
                var statusCount = response.data.data.statusCount;
                var statusOptions = response.data.data.statusOptions;
                // based on prepared DOM, initialize echarts instance
                var myChart = echarts.init(document.getElementById('main'));

                // specify chart configuration item and data
                var option = {
                    title: {
                        text: 'TeamCity Project Overview',
                        x: 'center'
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient: 'horizontal',
                        bottom: 'bottom',
                        data: statusOptions
                    },
                    series: [
                        {
                            name: 'Statuses',
                            type: 'pie',
                            radius: '55%',
                            center: ['50%', '60%'],
                            data: statusCount,
                            itemStyle: {
                                emphasis: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            }
                        }
                    ]
                };

                // use configuration item and data specified to show chart
                myChart.setOption(option);
            });
        });
    </script>
</body>

</html>